@prefix browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix void: <http://rdfs.org/ns/void#> .
@prefix l: <https://slovník.gov.cz/legislativní/sbírka/90/1995/pojem/> .
@prefix a: <https://slovník.gov.cz/agendový/psp/pojem/> .

#####################################
# Configurations
#####################################

<https://linked.opendata.cz/resource/knowledge-graph-browser/configuration/psp> a browser:Configuration ;
  dct:title "Konfigurace procházení dat Poslanecké sněmovny Parlamentu České republiky"@cs ;
  browser:hasViewSet <https://linked.opendata.cz/resource/knowledge-graph-browser/view-set/psp/tisk> ;
  browser:hasViewSet <https://linked.opendata.cz/resource/knowledge-graph-browser/view-set/psp/poslanec> .

#####################################
# ViewSets
#####################################
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/view-set/psp/tisk> a browser:ViewSet ;
  dct:title "Pohledy na sněmovní tisky"@cs ;
  browser:hasView <https://linked.opendata.cz/resource/knowledge-graph-browser/view/psp/předkladatel> ;
  browser:hasDefaultView <https://linked.opendata.cz/resource/knowledge-graph-browser/view/psp/předkladatel> ;
  browser:hasCondition """PREFIX l: <https://slovník.gov.cz/legislativní/sbírka/90/1995/pojem/>
ASK {
  ?node a l:sněmovní-tisk .    
}""" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> .
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/view-set/psp/poslanec> a browser:ViewSet ;
  dct:title "Pohledy na poslance"@cs ;
  browser:hasView <https://linked.opendata.cz/resource/knowledge-graph-browser/view/psp/předložené-tisky> ;
  browser:hasDefaultView <https://linked.opendata.cz/resource/knowledge-graph-browser/view/psp/předložené-tisky> ;
  browser:hasCondition """PREFIX a: <https://slovník.gov.cz/agendový/psp/pojem/>
PREFIX l: <https://slovník.gov.cz/legislativní/sbírka/90/1995/pojem/>

ASK {
  ?node a a:osoba ;
    l:má-mandát-poslance [] .    
}""" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> .

#####################################
# Views
#####################################
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/view/psp/předkladatel> a browser:View ;
  dct:title "Překladatel sněmovního tisku"@cs ;
  dct:description "Pohled na sněmovní tisk zobrazující jeho předkladatele."@cs ;
  browser:hasExpansion <https://linked.opendata.cz/resource/knowledge-graph-browser/expansion-query/psp/předkladatel-tisku> ;
  browser:hasPreview <https://linked.opendata.cz/resource/knowledge-graph-browser/preview-query/psp/název-tisku> ;
  browser:hasDetail <https://linked.opendata.cz/resource/knowledge-graph-browser/detail-query/psp/tisk> .
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/view/psp/předložené-tisky> a browser:View ;
  dct:title "Předložené sněmovní tisky"@cs ;
  dct:description "Pohled na poslance zobrazující sněmovní tisky, které předložil sám nebo ve skupině poslanců."@cs ;
  browser:hasExpansion <https://linked.opendata.cz/resource/knowledge-graph-browser/expansion-query/psp/předložené-tisky> ;
  browser:hasPreview <https://linked.opendata.cz/resource/knowledge-graph-browser/preview-query/psp/jméno-osoby> ;
  browser:hasDetail <https://linked.opendata.cz/resource/knowledge-graph-browser/detail-query/psp/poslanec> .
  
#####################################
# Queries
#####################################

<https://linked.opendata.cz/resource/knowledge-graph-browser/expansion-query/psp/předkladatel-tisku> a browser:ExpansionQuery ;
  dct:title "Předkladatel sněmovního tisku" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> ;
  browser:query """PREFIX z: <https://slovník.gov.cz/základní/pojem/>
PREFIX v: <https://slovník.gov.cz/veřejný-sektor/pojem/>
PREFIX l: <https://slovník.gov.cz/legislativní/sbírka/90/1995/pojem/>
PREFIX a: <https://slovník.gov.cz/agendový/psp/pojem/>
PREFIX pspb: <https://linked.opendata.cz/resource/vocabulary/knowledge-graph-browser/psp/>
PREFIX browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>


CONSTRUCT {
  ?osoba a a:osoba ;
    pspb:navrhuje ?node ;
    rdfs:label ?celeJmeno ;
    browser:class ?browserClass .
} WHERE {

  ?podani a l:podání-návrhu ;
    z:má-účastníka ?node .

  ?podani z:je-vykonána ?navrhovatel .
  {
    ?navrhovatel a l:skupina-poslanců-jako-navrhovatel ;
      a:má-člena-skupiny ?clen .
    ?osoba a:je-členem-skupiny ?clen ;
      v:má-jméno ?jmeno ;
      v:má-příjmení ?prijmeni .
    BIND("poslanec" AS ?browserClass)
  } UNION {
    ?navrhovatel a l:poslanec-jako-navrhovatel ;
      v:má-jméno ?jmeno ;
      v:má-příjmení ?prijmeni .
    BIND(?navrhovatel AS ?osoba)
    BIND("poslanec" AS ?browserClass)
  }

  BIND(CONCAT(?jmeno, " ", ?prijmeni) AS ?celeJmeno)

}""" .

<https://linked.opendata.cz/resource/knowledge-graph-browser/expansion-query/psp/předložené-tisky> a browser:ExpansionQuery ;
  dct:title "Sněmovní tisky předložené poslancem" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> ;
  browser:query """PREFIX z: <https://slovník.gov.cz/základní/pojem/>
PREFIX v: <https://slovník.gov.cz/veřejný-sektor/pojem/>
PREFIX l: <https://slovník.gov.cz/legislativní/sbírka/90/1995/pojem/>
PREFIX a: <https://slovník.gov.cz/agendový/psp/pojem/>
PREFIX d: <https://slovník.gov.cz/datový/psp/pojem/>
PREFIX pspb: <https://linked.opendata.cz/resource/vocabulary/knowledge-graph-browser/psp/>
PREFIX browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>


CONSTRUCT {
  ?node pspb:navrhuje ?tisk .

  ?tisk rdfs:label ?nazevTisku ;
    browser:class "tisk" .
} WHERE {

  ?podani a l:podání-návrhu ;
    z:má-účastníka ?tisk .

  {
    ?podani z:je-vykonána ?navrhovatel .
    ?navrhovatel a l:skupina-poslanců-jako-navrhovatel ;
      a:má-člena-skupiny ?clen .
    ?node a:je-členem-skupiny ?clen .
  } UNION {
    ?podani z:je-vykonána ?node .
  }

  ?tisk d:má-zkrácený-název-tisku ?nazevTisku .

}""" .

<https://linked.opendata.cz/resource/knowledge-graph-browser/preview-query/psp/název-tisku> a browser:PreviewQuery ;
  dct:title "Název sněmovního tisku" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> ;
  browser:query """PREFIX l: <https://slovník.gov.cz/legislativní/sbírka/90/1995/pojem/>
PREFIX d: <https://slovník.gov.cz/datový/psp/pojem/>
PREFIX browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

CONSTRUCT {
  ?node a l:sněmovní-tisk ;
    rdfs:label ?label ;
    browser:class "tisk" .
} WHERE {
  ?node d:má-zkrácený-název-tisku ?label .
}""" .

<https://linked.opendata.cz/resource/knowledge-graph-browser/preview-query/psp/jméno-osoby> a browser:PreviewQuery ;
  dct:title "Jméno osoby" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> ;
  browser:query """PREFIX a: <https://slovník.gov.cz/agendový/psp/pojem/>
PREFIX v: <https://slovník.gov.cz/veřejný-sektor/pojem/>
PREFIX browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

CONSTRUCT {
  ?node a a:osoba ;
    rdfs:label ?label ;
    browser:class "poslanec" .
} WHERE {
  ?node v:má-jméno ?jmeno ;
    v:má-příjmení ?prijmeni .
  BIND(CONCAT(?jmeno, " ", ?prijmeni) AS ?label)
}""" .

<https://linked.opendata.cz/resource/knowledge-graph-browser/detail-query/psp/tisk> a browser:DetailQuery ;
  dct:title "Základní detail sněmovního tisku" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> ;
  browser:query """PREFIX l: <https://slovník.gov.cz/legislativní/sbírka/90/1995/pojem/>
PREFIX a: <https://slovník.gov.cz/agendový/psp/pojem/>

CONSTRUCT {
  ?node a:má-název-tisku ?nazev ;
    a:má-datum-předložení-tisku ?datumPredlozeni ;
    a:má-číslo-tisku ?cislo ;
    a:má-číslo-tisku-za-lomítkem ?cisloZaLomitkem .
} WHERE {
  ?node a:má-název-tisku ?nazev ;
    a:má-datum-předložení-tisku ?datumPredlozeni ;
    a:má-číslo-tisku ?cislo ;
    a:má-číslo-tisku-za-lomítkem ?cisloZaLomitkem .
}""" . 

<https://linked.opendata.cz/resource/knowledge-graph-browser/detail-query/psp/poslanec> a browser:DetailQuery ;
  dct:title "Základní detail poslance" ;
  browser:hasDataset <https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> ;
  browser:query """PREFIX a: <https://slovník.gov.cz/agendový/psp/pojem/>
PREFIX v: <https://slovník.gov.cz/veřejný-sektor/pojem/>
PREFIX browser: <https://linked.opendata.cz/ontology/knowledge-graph-browser/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

CONSTRUCT {
  ?node v:má-jméno ?jmeno ;
    v:má-příjmení ?prijmeni .
} WHERE {
  ?node v:má-jméno ?jmeno ;
    v:má-příjmení ?prijmeni .
  BIND(CONCAT(?jmeno, " ", ?prijmeni) AS ?label)
}""" .


#####################################
# Datasets
#####################################

<https://linked.opendata.cz/resource/knowledge-graph-browser/dataset/psp> a void:Dataset ;
  dct:title "Píseček OpenData.cz" ;
  void:sparqlEndpoint <https://xn--pseek-zsa0u.opendata.cz/sparql> .

#####################################
# View vocabularies
#####################################
  
<https://linked.opendata.cz/resource/vocabulary/knowledge-graph-browser/psp/navrhuje> a owl:ObjectProperty ;
  rdfs:label "navrhuje"@cs ;
  rdfs:comment "Poslanec, skupina poslanců, Vláda nebo Senát ČR navrhuje předpis v podobě sněmovního tisku."@cs ;
  rdfs:domain l:navrhovatel ;
  rdfs:range l:sněmovní-tisk .

#####################################
# Visual styles
#####################################
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style-sheet> a browser:VisualStyleSheet ;
  browser:hasVisualStyle <https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/slovník.gov.cz/legislativní/sbírka/90/1995/pojem/sněmovní-tisk>,
    <https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/slovník.gov.cz/agendový/psp/pojem/osoba>,
    <https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/psp/navrhuje>,
    <https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/node>,
    <https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/edge> .
    

<https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/slovník.gov.cz/legislativní/sbírka/90/1995/pojem/sněmovní-tisk> a browser:VisualStyle ;
  browser:background-color "#dcdba8" ;
  browser:border-color "#c8c899" ;
  browser:border-width "2px" ;
  browser:color "#8c8c6b" ;
  browser:shape "hexagon" ;
  browser:label "data(label)" ;
  browser:width "20px" ;
  browser:height "20px" ;
  browser:padding "2px" ;
  browser:text-halign "center" ;
  browser:text-valign "bottom" ;
  browser:text-margin-y "2px" ;
  browser:hasSelector ".tisk" .
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/slovník.gov.cz/agendový/psp/pojem/osoba> a browser:VisualStyle ;
  browser:background-color "#e8c395" ;
  browser:border-color "#c89351" ;
  browser:border-width "2px" ;
  browser:color "#8c6739" ;
  browser:shape "round-rectangle" ;
  browser:label 'data(label)' ;
  browser:width "20px" ;
  browser:height "20px" ;
  browser:padding "2px" ;
  browser:text-halign "center" ;
  browser:text-valign "bottom" ;
  browser:text-margin-y "2px" ;
  browser:hasSelector ".poslanec" .
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/psp/navrhuje> a browser:VisualStyle ;
  browser:line-color "lime" ;
  browser:line-style "solid" ;
  browser:hasSelector ".navrhuje" ;
  browser:appliesTo <https://linked.opendata.cz/resource/vocabulary/knowledge-graph-browser/psp/navrhuje> .

<https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/node> a browser:VisualStyle ;
  browser:background-color "#A9A5A7" ;
  browser:border-color "#544B50" ;
  browser:border-width "2px" ;
  browser:color "black" ;
  browser:shape "rectangle" ;
  browser:label 'data(label)' ;
  browser:hasSelector "node" .
  
<https://linked.opendata.cz/resource/knowledge-graph-browser/psp/style/edge> a browser:VisualStyle ;
  browser:line-color "black" ;
  browser:line-style "solid" ;
  browser:hasSelector "edge" .